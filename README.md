<!-- File generated by github.com/posener/goreadme DO NOT EDIT. -->

# CashDrawer (cd)

[![GoDoc](https://pkg.go.dev/badge/pkgsite/pkg.svg)](https://pkg.go.dev/github.com/Nimon77/cd)

cd is a Go library designed to interface with the "USB TRIGGER for CASH DRAWER" BT-100U. It simplifies the process of opening a cash drawer using Go code.

## Installation

To use the `cd` library in your Go project, you need to install it using:

```go
go get github.com/Nimon77/cd
```

## Usage

Here is a quick guide on how to use the `cd` library to control your cash drawer.

### Opening the Cash Drawer

```go
package main

import (

 "context"
 "log"
 "github.com/Nimon77/cd"

)

func main() {
    ctx := context.Background()

    // Initialize the CashDrawer manually with a specific port and baud rate
    drawer, err := cd.New("/dev/ttyUSB0", 9600)
    if err != nil {
        log.Fatal(err)
    }
    defer drawer.Close()

    // Open the cash drawer
    err = drawer.Open(ctx)
    if err != nil {
        log.Fatal(err)
    }

    log.Println("Cash drawer opened successfully!")
}
```

### Automatically Detecting and Opening the Cash Drawer (linux only)

If you prefer the library to automatically detect the correct USB port, you can use the `NewAuto` function.

```go
package main

import (

 "log"
 "github.com/Nimon77/cd"

)

func main() {
    // Automatically detect the cash drawer and initialize it
    drawer, err := cd.NewAuto()
    if err != nil {
        log.Fatal(err)
    }
    defer drawer.Close()

    // Open the cash drawer
    err = drawer.Open(context.Background())
    if err != nil {
        log.Fatal(err)
    }

    log.Println("Cash drawer opened successfully!")
}
```

## Dependencies

This library depends on the following packages:

- `github.com/citilinkru/libudev` - For scanning and detecting USB devices. (linux only)
- `github.com/jacobsa/go-serial/serial` - For handling serial port communications.

## License

This project is licensed under the MIT License. See the LICENSE file for more details.

## Contributions

Contributions are welcome! Please fork the repository and submit a pull request with your changes.

## Support

If you encounter any issues or have questions, feel free to open an issue on GitHub.

## Types

### type [CashDrawer](/cd.go#L102)

```go
type CashDrawer struct { ... }
```

CashDrawer represents a cash drawer, with its serial port.

#### func (*CashDrawer) [Close](/cd.go#L136)

```go
func (r *CashDrawer) Close() error
```

Close closes the serial port connection to the cash drawer.

#### func (*CashDrawer) [Open](/cd.go#L109)

```go
func (r *CashDrawer) Open(ctx context.Context) error
```

Open sends the command to open the cash drawer. It writes the necessary bytes to the serial port to trigger the drawer to open.

---
Readme created from Go doc with [goreadme](https://github.com/posener/goreadme)
